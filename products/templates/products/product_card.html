{% load humanize %}
<div class="col-sm-8 col-md-5 col-lg-3 rounded shadow text-center pb-4 bg-light m-1">
    <!-- product card -->
    <div class="col-12">
        <a href="{% url 'products_details' id=product.id slug=product.slug %}">
            <img src="{{product.image.url}}" alt="product image" style="object-fit: contain;" height="300px"
                width="200px" />
        </a>
    </div>
    <div class="card-body align-items-end">
        <a href="{% url 'products_details' id=product.id slug=product.slug %}" style="font-weight: 600;"
            class="text-decoration-none text-center text-dark fs-5 pt-2 text-uppercase">
            <div class="card-title">
                {{product.name}}
            </div>
        </a>

        <span>&#8358; {{product.price|intcomma}}</span>
        <br />
        {% if product.available_quantity %}
        <p class="text-success">
            Available
        </p>
        <form class="form-group row justify-content-center align-items-center" action="{% url 'add_cart' %}"
            method="get">
            {% csrf_token %}
            <input type="number" hidden value="{{product.id}}" name="product_id" id="product_id">
            <div class="col-12">
                <input hidden type="number" name="quantity" id="quantity" min="1" max="{{product.available_quantity}}"
                    value="1" class="input-group rounded" />
            </div>
            <div class="col-12 text-center mt-3">
                <input type="submit" style="border-color: purple; width: 100%;" value="Add to Cart" class="btn" />
            </div>
        </form>
        {% else %}

        <p class="text-danger">
            Out of stock!
        </p>
        {% endif %}
    </div>
</div>