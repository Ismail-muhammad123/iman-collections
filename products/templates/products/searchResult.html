{% extends 'home/base.html'%}
{% load static%}
{% block content %}
{% load humanize %}
<div class="mb-3"
    style="width: 100%; height: 50px; background-color: rgb(136, 65, 187); color: white; list-style: none; align-items: center;">
    <h5 style=" text-transform: capitalize; font-weight: 700; font-size: 22.0px; padding: 10px;">
        Search Result for - &quot;{{word}}&quot;. ({{count}} products found)
    </h5>
</div>

{% if products %}
<div id="products-grid">
    {% for product in products %}
    <div id="product-card" class="shadow p-3 m-sm-0 border bg-white">
        <a href="{% url 'details' id=product.id  %}">
            <img src="{{product.image.url}}" style="width: 100%; height: 60%;" alt="" />
        </a>
        <div class="mt-2 text-uppercase fw-3"><span class="text-dark text-capitalize">Name:
            </span>{{product.name}}
        </div>
        <div class="text-danger">
            <span class="text-dark text-capitalize">price: &#x20A6;{{product.price|intcomma}}</span>
        </div>
        <hr>
        <form method="GET" action="/cart/">
            <input hidden type="text" value="{{product.id}}" name="id">
            <div class="input-group py-2" style="width: 100%;">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="">Quantity</span>
                </div>
                <input type="number" name="quantity" class="form-control" min=1 max={{product.available_quantity}}
                    value=1 />
            </div>
            <div style="width: 100%;" class="input-group mb-3">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="inputGroupSelect01">Size</label>
                </div>
                <input type="text" readonly name="size" value="{{product.size}}" class="form-control" />
            </div>
            <hr>
            <div style="text-align: center;">
                {% if product.available_quantity %}
                <input type="submit" class="btn btn-primary" style="width: 100%; margin-bottom: 20px;"
                    value="Add to cart" />
                {% else %}
                <input type="submit" disabled class="btn btn-primary" style="width: 100%; margin-bottom: 20px;"
                    value="Add to cart" />
                {% endif %}
            </div>
        </form>
    </div>
    {% endfor %}
</div>
{% endif %}

{% endblock %}